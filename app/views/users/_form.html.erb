<div class='container'>

  <%= form_for @user, html: {class: "form-horizontal"} do |f| %>
    <%= render partial: 'shared/errors', locals: {object: @user} %>
    <% label_field_types = {
      first_name: :text_field,
      last_name: :text_field,
      email: :email_field,
      password: :password_field,
      password_confirmation: :password_field } %>
    <% label_field_types.each do |label, field| %>
      <div class="form-group">
        <div class="col-md-2">
          <%= f.label label, class: 'control-label' %>
        </div>
        <div class='col-md-4'>
          <%= f.send(field, label, class: 'form-control') %>
        </div>
      </div>
    <% end %>

    <% if current_user.admin == true %>
      <div class='form-group'>
        <div class='col-sm-offset-2 col-md-5'>
          <%= f.check_box :admin %>
          <%= f.label "Admin" %>
        </div>
      </div>
  <% end %>

    <div class="form-group">
      <div class="col-md-offset-2 col-md-10">
        <%= f.submit class: 'btn btn-primary' %>
        <%= link_to 'Cancel', users_path, class: 'btn btn-default' %>
      </div>
    </div>
  <% end %>

    <% if params[:action] == "edit" %>
    <div class="row">
      <div class="col-md-offset-2 col-md-4">
        <div class="well text-center">
          <%= link_to "Delete User", user_path(@user), method: :delete, data: {comfirm: "Are you sure?"}, class: 'btn btn-danger' %>
        </div>
      </div>
    </div>
  <% end %>

</div>
